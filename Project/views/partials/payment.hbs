<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment</title>
                              <!-- fontawesome -->
       <!-- fontawesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/open-iconic/1.1.1/font/css/open-iconic.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/fontawesome.min.css"/>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"rel="stylesheet">
                                 <!-- bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    {{!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> --}}
                                  <!-- iconicon -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
                                  <!-- style css -->
    <link rel="stylesheet"href="/stylesheets/style1.css">
                                <!-- responsive -->
   {{!-- <link rel="stylesheet" href="responsive.css">                            --}}
<style>
body{
 /*background: #121212;  /* Fallback for old browsers 
      background-color: rgba(0, 0, 0, 0.77);    
      Set height to 100% to cover the entire viewport */
      border:  none;
      outline: none;
      margin: 0; /* Remove default margin to avoid unwanted space */
      overflow: auto; /* Allow scrolling content if needed */ 
}
.payment-process{
   background-color: aliceblue;
   height:50vh;
   display: flex;
   flex-direction: column;
   justify-content: center;
   align-items:center;

   margin: auto !important;
}   
.date{
   position: absolute;
   z-index: -1;
    top:10%;
    right:0;
    margin: 10px;
   color: black !important;
   font-weight: bold;
    letter-spacing: 1px;
}
a{text-decoration: none;}
.delivery h1{
     }
#day{
margin: 15px;
font-size: 2.3rem;
letter-spacing: 2.3px;
color:cornsilk;
font-weight: bold;
}
.arrow {
    width:80%;
    height:50vh;
    padding: 10px;
    margin: 0% !important;
    background-color:gray !important;
-webkit-clip-path: polygon(0 0, 0 100%, 100% 0);
clip-path: polygon(0 0, 0 100%, 100% 0);
}
#date,#time{

}
#place-order-button{
   display: flex;
   text-decoration: none;
   justify-content: center;
   width: 50%;
    margin: auto !important;
    padding: 12px 20px;
    text-align: center;
    font-size: 1.2rem !important;
    letter-spacing: 1px;
}
.amt{
    text-align: center;
    width: 70%;
    margin: auto;
   /*background-color: rgba(0, 0, 0, 0.4);
    border:1px solid #3C3B3F; */
    color: #000;
  box-shadow:
    12px 12px 12px rgba(0, 0, 0, 0.2), /* Top-left light shadow */
    -12px -12px 12px rgba(0, 0, 0, 0.2), /* Bottom-right light shadow */
    -12px 12px 12px rgba(0, 0, 0, 0.2), /* Top-right light shadow */
    12px -12px 12px rgba(0, 0, 0, 0.2);
   
    padding: 10px 15px;
   font-size: 16px; /* Set an appropriate font size */
  position: relative;
}
.totalamount{
    width: 70%;
   height: 15vh;
    margin: auto !important;
    display: flex;
    flex-direction: row !important;
    justify-content: space-between;
    position: absolute;
    left: 0;
    right: 0;
    letter-spacing: 2px;
    padding:7px 10px;
    text-align: center !;
    color: black;
    font-weight: bold;
    /*color:darkgray;
    font-weight: bold;
    border-bottom: 2px solid darkgray;
    border-left: 2px solid darkgray;
    border-right: 2px solid darkgray;*/
    
}
.savings{
    width: 70%;
    margin: auto !important;
    display: flex;
    flex-direction: row !important;
    justify-content: space-between;
    font-size: 12px !important;
    letter-spacing: 2px;
    padding: 12px;
    text-align: center !;
    font-weight: bold;
color: #000 !important;
  
}

@media (max-width: 600px) and (min-width: 400px) {
   .amt .h3 {
    font-size: 16px !important;
  
    padding: 10px;
    text-align: center !important;
   } 
   .totalamount .totamt{
     font-size: 20px !important;
   }
   #total{
    padding-top: 7px;
    font-size: 15px !important;
   }
  
}
@media (max-width: 400px) and (min-width: 100px) {
   .amt .h3 {
    font-size: 12px !important;
   
    padding: 5px;
    text-align: center !important;
   } 
   .totalamount .totamt{
     font-size: 12px !important;
     padding-top: 10px;
   }
   #total{
    padding-top: 7px;
    font-size: 10px !important;
   }
}
@media (max-width: 443px) and (min-width: 406px){
  .totalamount .totamt{
     font-size: 12px !important;
     padding-top: 10px;
   }
   #total{
    padding-top: 7px;
    font-size: 10px !important;
   }
}

.totamt{
   
    font-size: 1.5rem;
    padding:5px 10px;
   
}
#total{
    font-size: 1.5rem;
    text-transform: uppercase;
    text-align: center;
    font-weight: bold;
 margin: 5px 20px !important;
}
.amt .h3 {
    line-height: 2; /* Set the desired line-height value */
}
.colon::before {
    content: ": ";
}
.payment-option{
    background: transparent;
}
.save{
 padding-left: 25px;
   text-align: center;
}
</style>
</head>
<body>
    {{!-- cart package is important it display total amount --}}

 <section id="payment">
<div class="date">
    <p id="date"></p>
    <p id="time"></p>
</div>

<div class="arrow">
<div class="delivery">
<h1>Delivery Expected By</h1><br>
<div class="h4" id="day"></div></div>
</div>
</div>
<div class="amt ">
   <div class="h3">Total Amount<span class="colon"> &nbsp;  </span> &nbsp; &nbsp; &nbsp;<span class="tot-amt"></span></div>
   <div class="h3">Shipping Charge<span class="colon"> &nbsp; </span>&nbsp;<span class="ship"></span></div>
   <div class="h3">Discount<span class="colon"> &nbsp; &nbsp;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="discount">10 %</span></div>
</div>
<div class="totalamount">
    <div id="total">Total Amount</div>
    <span class="totamt"></span>
</div><br><br>
<div class="savings">
<div class="save ">Your Savings</div>
 <span class="saveamt">Rs</span>
</div>
<br><br><br><br><br>
<div class="button">
<a href="/load" class="text-decoration-none">
<button type="button" id= "place-order-button" class="btn btn-success placeorderbtn">Proceed To Buy</button></a>
</div>
<br><br>
{{!-- <div class="payment-process text-dark jusitfy-comtent-center bg-lignt">
  <div class="form-check">
  <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
  <label class="form-check-label" for="exampleRadios1">
    Default radio
  </label>
</div>
<div class="form-check">
  <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
  <label class="form-check-label" for="exampleRadios2">
    Second default radio
  </label>
</div>
<div class="form-check">
  <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" disabled>
  <label class="form-check-label" for="exampleRadios3">
    Disabled radio
  </label>
</div>
</div> --}}
</section>


    
<script>

  const savedCart = localStorage.getItem('cart');
const cartItems = JSON.parse(savedCart);

  function updateCartTotal() {
  const cartItems = document.querySelectorAll('.cart-box');
  let total = 0;

  cartItems.forEach(product => {
    const valueDisplay = product.querySelector('#valueDisplay');
    const cartAmtElement = product.querySelector('.cart-amt');
    const priceElement = product.querySelector('.cart-price');

    const price = parseFloat(priceElement.textContent.replace(/[^\d.]/g, '').trim());
    const quantity = parseInt(valueDisplay.textContent);
    const cartAmt = price * quantity;

    total += cartAmt;

    // Update the cart amount for this item
    cartAmtElement.textContent = `Rs. ${cartAmt}`;
  });

  const totalElement = document.querySelector('.total-price');
  totalElement.innerHTML = `Rs ${total}`;

  const cartMessage = document.querySelector('.cart-message');
  const placeOrderButton = document.querySelector('.btn-buy');
  console.log('Total:',total);
      
  // localStorage.setItem('cartTotal', total); 
  const totAmtElements = document.querySelectorAll('.tot-amt');
  const ship = document.querySelectorAll('.ship');
  const totamt = document.querySelectorAll('.totamt');
  const save = document.querySelectorAll('.saveamt');
  
  // Assuming total, shipDiscount, and saveamtDiscount are defined and have appropriate values
  
  // Update the "Total" element inside your cart package if it has the class "tot-amt"
  totAmtElements.forEach(element => {
    element.textContent = `Rs ${total}`;
  });
  
  // Update the "Shipping Charge" element inside your cart package if it has the class "ship"
  ship.forEach(elements => {
    const shippingCharge = total + 40; // Calculate shipping charge
    elements.textContent = `Rs ${shippingCharge}`;
  });
  
  // Update the "Total Amount" element inside your cart package if it has the class "totamt"
  totamt.forEach(elements => {
    const totalAmount = total + 40 - 20; // Calculate total amount
    elements.textContent = `Rs ${totalAmount}`;
  });
  
  // Update the "Discount" element inside your cart package if it has the class "saveamt"
  save.forEach(elements => {
    const discount =  (total + 40 - 20) - total; // Calculate discount
    elements.textContent = `Rs ${discount}`;
  });
  
 

  if (total >= 500) {
    placeOrderButton.disabled = false;
    cartMessage.style.display = 'none'; // Hide the message
  } else {
    placeOrderButton.disabled = true;
    cartMessage.style.display = 'block'; // Show the message
  }

  // Update the cart data in localStorage
  localStorage.setItem('cart', JSON.stringify(itemList));
}
</script>
<script src="/javascript/script.js" defer></script> 

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


</body>
</html>